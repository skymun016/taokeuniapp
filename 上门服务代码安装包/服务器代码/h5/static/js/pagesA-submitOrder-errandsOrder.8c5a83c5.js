(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-submitOrder-errandsOrder"],{1085:function(t,e,a){var i=a("e8b7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("224bdf3f",i,!0,{sourceMap:!1,shadowMode:!1})},"5d37":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c258")),d=i(a("a0d1")),s={components:{tPayWay:n.default},data:function(){return{show:!1,pagestyleconfig:[],distance:0,amountTotle:0,islogin:1,servicetime:"",address_id:"",take_address_id:"",curAddressData:[],takeAddressData:[],total:0,remark:"",selIndex:0,payment:"0",chargeset:"0",paymentType:"",deliverymode:"1",ptype:2,service:0,paymethod:{}}},onLoad:function(t){var e=this;uni.setStorageSync("gotopage","/pagesA/submitOrder/errandsOrder"),this.sam.checktelephone().then((function(t){})),e.$request.post("config",{mo:"pagestyle"}).then((function(t){0==t.errno&&(e.pagestyleconfig=t.data)})),e.$request.get("Paymethod.list").then((function(t){0==t.errno&&(e.paymethod=t.data,e.paymentType=t.data[0].default)}))},onShow:function(){var t=this;t.address_id=uni.getStorageSync("address_id"),t.take_address_id=uni.getStorageSync("take_address_id"),t.address_id&&t.$request.get("address.getinfobyid",{samkey:(new Date).valueOf(),id:t.address_id}).then((function(e){0===e.errno&&(t.curAddressData=e.data)})),t.take_address_id&&t.$request.get("address.getinfobyid",{samkey:(new Date).valueOf(),id:t.take_address_id}).then((function(e){0===e.errno&&(t.takeAddressData=e.data)})),t.address_id&&t.take_address_id&&t.$request.post("order.taketotal",{samkey:(new Date).valueOf(),address_id:t.address_id,take_address_id:t.take_address_id}).then((function(e){0===e.errno&&(t.distance=e.data.distance,t.amountTotle=e.data.amountTotle)}))},methods:{takechooseAddr:function(){uni.navigateTo({url:"/pagesA/my/address/address?atype=take"})},curchooseAddr:function(){uni.navigateTo({url:"/pagesA/my/address/address"})},btnPay:function(){return this.takeAddressData.id?this.curAddressData.id?void(this.show=!0):(uni.hideLoading(),void uni.showModal({title:"错误",content:"请添加收件地址！",showCancel:!1})):(uni.hideLoading(),void uni.showModal({title:"错误",content:"请添加取件地址！",showCancel:!1}))},popupClose:function(){this.show=!1},goPay:function(t){t.paymentType&&(this.paymentType=t.paymentType),this.createOrder()},createOrder:function(){var t=this;void 0==t.remark&&(t.remark="");var e={otype:2,remark:t.remark,distance:t.distance,amountTotle:t.amountTotle,paymentType:t.paymentType};if(0==t.paymentType)return uni.hideLoading(),void uni.showModal({title:"错误",content:"请选择支付方式！",showCancel:!1});e.address_id=t.curAddressData.id,e.take_address_id=t.takeAddressData.id,t.ptype=2,t.$request.post("order.errandscreate",e).then((function(e){if(0==e.errno){var a="/pagesA/submitOrder/success?ptype="+t.ptype;"wx_pay"==e.data.payment_code?d.default.wxpay("order",e.data.pay_total,e.data.id,a):"balance_pay"==e.data.payment_code?t.$request.post("order.pay",{orderid:e.data.id}).then((function(t){0==t.errno?wx.showModal({title:"成功",content:"使用余额支付成功",showCancel:!1,success:function(t){wx.redirectTo({url:a})}}):wx.showModal({title:"失败",content:t.msg,showCancel:!1})})):"offline_pay"==e.data.payment_code?t.sam.navigateTo("/pagesA/submitOrder/offlinepayment?id="+e.data.id):(e.data.payment_code,t.sam.navigateTo(a))}else uni.showModal({title:"错误",content:e.msg,showCancel:!1})}))},remarkInput:function(t){this.remark=t.target.value}},onPullDownRefresh:function(){setTimeout((function(){uni.stopPullDownRefresh()}),200)}};e.default=s},"6cf8":function(t,e,a){"use strict";a.r(e);var i=a("f7dfe"),n=a("736b");for(var d in n)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(d);a("72fb");var s=a("f0c5"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"78f59f04",null,!1,i["a"],void 0);e["default"]=o.exports},"72fb":function(t,e,a){"use strict";var i=a("1085"),n=a.n(i);n.a},"736b":function(t,e,a){"use strict";a.r(e);var i=a("5d37"),n=a.n(i);for(var d in i)["default"].indexOf(d)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(d);e["default"]=n.a},e8b7:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".container[data-v-78f59f04]{padding-bottom:%?98?%}.tui-item-box[data-v-78f59f04]{width:100%;display:flex;align-items:center}.tui-list-cell_name[data-v-78f59f04]{padding-left:%?5?%;display:flex;align-items:center;justify-content:center}.tui-right[data-v-78f59f04]{margin-left:auto;margin-right:%?34?%;font-size:%?26?%;color:#999}.tui-box[data-v-78f59f04]{padding:%?20?% 0 %?118?%;box-sizing:border-box}.tui-address[data-v-78f59f04]{min-height:%?80?%;padding:%?10?% 0;box-sizing:border-box;position:relative}.serviceaddr[data-v-78f59f04]{color:#999}.tui-userinfo[data-v-78f59f04]{font-size:%?30?%;font-weight:500;line-height:%?30?%;padding-top:%?10?%;padding-bottom:%?12?%}.tui-name[data-v-78f59f04]{padding-right:%?40?%}.tui-addr[data-v-78f59f04]{font-size:%?24?%;word-break:break-all;padding-right:%?25?%}.tui-addr-tag[data-v-78f59f04]{padding:%?5?% %?8?%;flex-shrink:0;background:#eb0909;color:#fff;display:inline-flex;align-items:center;justify-content:center;font-size:%?25?%;line-height:%?25?%;-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:0 center;transform-origin:0 center;border-radius:%?6?%}.tui-top[data-v-78f59f04]{margin-top:%?20?%;overflow:hidden}.tui-goods-title[data-v-78f59f04]{font-size:%?28?%;display:flex;align-items:center}.tui-padding[data-v-78f59f04]{box-sizing:border-box}.tui-goods-item[data-v-78f59f04]{width:100%;padding:%?20?% %?30?%;box-sizing:border-box;display:flex;justify-content:space-between}.tui-goods-img[data-v-78f59f04]{width:%?180?%;height:%?180?%;display:block;flex-shrink:0}.tui-goods-center[data-v-78f59f04]{flex:1;padding:%?20?% %?8?%;box-sizing:border-box}.tui-goods-name[data-v-78f59f04]{max-width:%?310?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-size:%?26?%;line-height:%?32?%}.tui-goods-attr[data-v-78f59f04]{font-size:%?22?%;color:#888;line-height:%?32?%;padding-top:%?20?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.tui-price-right[data-v-78f59f04]{text-align:right;font-size:%?24?%;color:#888;line-height:%?30?%;padding-top:%?20?%}.tui-flex[data-v-78f59f04]{width:100%;display:flex;align-items:center;justify-content:space-between;font-size:%?26?%}.tui-total-flex[data-v-78f59f04]{justify-content:flex-end}.tui-color-red[data-v-78f59f04]{color:#e41f19;padding-right:%?30?%}.tui-balance[data-v-78f59f04]{font-size:%?28?%;font-weight:500}.tui-black[data-v-78f59f04]{color:#222;line-height:%?30?%}.tui-gray[data-v-78f59f04]{color:#888;font-weight:400}.tui-light-dark[data-v-78f59f04]{color:#666}.tui-goods-price[data-v-78f59f04]{display:flex;align-items:center;padding-top:%?20?%}.tui-size-26[data-v-78f59f04]{font-size:%?26?%;line-height:%?26?%}.tui-price-large[data-v-78f59f04]{font-size:%?34?%;line-height:%?32?%;font-weight:600}.tui-flex-end[data-v-78f59f04]{display:flex;align-items:flex-end;padding-right:0}.tui-phcolor[data-v-78f59f04]{color:#b3b3b3;font-size:%?26?%}\n.tui-remark-box[data-v-78f59f04]{padding:%?26?% %?30?%}\n.tui-remark[data-v-78f59f04]{flex:1;font-size:%?26?%;padding-left:%?64?%}.tui-scale-small[data-v-78f59f04]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:100% center;transform-origin:100% center}.tui-scale-small .wx-switch-input[data-v-78f59f04]{margin:0!important}\n[data-v-78f59f04] uni-switch .uni-switch-input{margin-right:0!important}\n.tui-tabbar[data-v-78f59f04]{width:100%;height:%?98?%;background:#fff;position:fixed;left:0;bottom:0;display:flex;align-items:center;justify-content:flex-end;font-size:%?26?%;box-shadow:0 0 1px rgba(0,0,0,.3);padding-bottom:env(safe-area-inset-bottom);z-index:996}.tui-pr-30[data-v-78f59f04]{padding-right:%?30?%}.tui-pr-20[data-v-78f59f04]{padding-right:%?20?%}.tui-none-addr[data-v-78f59f04]{height:%?80?%;padding-left:%?5?%;display:flex;align-items:center}.tui-addr-img[data-v-78f59f04]{width:%?36?%;height:%?46?%;display:block;margin-right:%?15?%}.tui-pr25[data-v-78f59f04]{padding-right:%?25?%}.paybutt[data-v-78f59f04]{width:%?380?%;height:%?70?%;line-height:%?70?%;font-size:%?28?%;border-radius:%?50?%;color:#fff;align-items:center}.tui-safe-area[data-v-78f59f04]{height:%?1?%;padding-bottom:env(safe-area-inset-bottom)}.tui-pay-item__title[data-v-78f59f04]{width:100%;height:%?90?%;display:flex;align-items:center;justify-content:space-between;padding:0 %?20?%;box-sizing:border-box;font-size:%?28?%}.tui-pay-amuont[data-v-78f59f04]{color:#eb0909;font-weight:500;font-size:%?34?%}.tui-pay-item[data-v-78f59f04]{width:100%;height:%?80?%;display:flex;align-items:center;padding:0 %?20?%;box-sizing:border-box;font-size:%?28?%}.tui-pay-logo[data-v-78f59f04]{width:%?48?%;height:%?48?%;margin-right:%?15?%}.tui-radio[data-v-78f59f04]{margin-left:auto;-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:100% center;transform-origin:100% center}.tui-btn-pay[data-v-78f59f04]{width:100%;padding:%?68?% %?60?% %?50?%;box-sizing:border-box}.tui-recharge[data-v-78f59f04]{color:#fc872d;margin-left:auto;padding:%?12?% 0}.acea-row[data-v-78f59f04]{font-size:%?28?%;padding-top:%?30?%;padding-left:%?20?%;height:%?60?%;background-color:#fff}.acea-row uni-label[data-v-78f59f04]{padding:%?10?%}",""]),t.exports=e},f7dfe:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return d})),a.d(e,"a",(function(){return i}));var i={tuiListCell:a("414c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-form",[a("v-uni-view",{staticClass:"tui-box"},[a("tui-list-cell",{attrs:{arrow:!0,unlined:!0,radius:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.takechooseAddr.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"tui-address"},[a("v-uni-label",{staticClass:"serviceaddr"},[t._v("取件地址")]),t.takeAddressData.address?a("v-uni-view",[a("v-uni-view",{staticClass:"tui-userinfo"},[a("v-uni-text",{staticClass:"tui-name"},[t._v(t._s(t.takeAddressData.name))]),t._v(t._s(t.takeAddressData.telephone))],1),a("v-uni-view",{staticClass:"tui-addr"},[a("v-uni-text",[t._v(t._s(t.takeAddressData.address_default)+t._s(t.takeAddressData.address))])],1)],1):a("v-uni-view",{staticClass:"tui-none-addr"},[a("v-uni-image",{staticClass:"tui-addr-img",attrs:{src:"/static/images/location_fill.png",mode:"widthFix"}}),a("v-uni-text",[t._v("请选择地址")])],1)],1)],1),a("tui-list-cell",{attrs:{arrow:!0,unlined:!0,radius:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.curchooseAddr.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"tui-address"},[a("v-uni-label",{staticClass:"serviceaddr"},[t._v("收件地址")]),t.curAddressData.address?a("v-uni-view",[a("v-uni-view",{staticClass:"tui-userinfo"},[a("v-uni-text",{staticClass:"tui-name"},[t._v(t._s(t.curAddressData.name))]),t._v(t._s(t.curAddressData.telephone))],1),a("v-uni-view",{staticClass:"tui-addr"},[a("v-uni-text",[t._v(t._s(t.curAddressData.address_default)+t._s(t.curAddressData.address))])],1)],1):a("v-uni-view",{staticClass:"tui-none-addr"},[a("v-uni-image",{staticClass:"tui-addr-img",attrs:{src:"/static/images/location_fill.png",mode:"widthFix"}}),a("v-uni-text",[t._v("请选择地址")])],1)],1)],1),a("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,padding:"0"}},[a("v-uni-view",{staticClass:"tui-remark-box tui-padding tui-flex"},[a("v-uni-view",[t._v("路程")]),t._v(t._s(t.distance)+"公里")],1)],1),a("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,padding:"0"}},[a("v-uni-view",{staticClass:"tui-remark-box tui-padding tui-flex"},[a("v-uni-view",[t._v("跑腿费")]),t._v(t._s(t.amountTotle)+"元")],1)],1),a("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,padding:"0"}},[a("v-uni-view",{staticClass:"tui-remark-box tui-padding tui-flex"},[a("v-uni-view",[t._v("备注")]),a("v-uni-input",{staticClass:"tui-remark",attrs:{type:"text",name:"remark",placeholder:"请输入您的要求","placeholder-class":"tui-phcolor"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.remarkInput.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-view",{staticClass:"tui-safe-area"}),a("v-uni-view",{staticClass:"tui-tabbar"},[a("v-uni-view",{staticClass:"tui-flex-end tui-color-red tui-pr-20"},[a("v-uni-view",{staticClass:"tui-black"},[t._v("应付金额:")]),a("v-uni-view",{staticClass:"tui-size-26"},[t._v("￥")]),a("v-uni-view",{staticClass:"tui-price-large"},[t._v(t._s(t.amountTotle))])],1),a("v-uni-view",{staticClass:"tui-pr25"},[a("v-uni-button",{staticClass:"paybutt",style:"background:"+t.pagestyleconfig.appstylecolor,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnPay.apply(void 0,arguments)}}},[t._v("确认下单")])],1)],1),a("t-pay-way",{attrs:{show:t.show,stylecolor:t.pagestyleconfig.appstylecolor,amuont:t.amountTotle,paymethod:t.paymethod},on:{goPay:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}}})],1)],1)},d=[]}}]);