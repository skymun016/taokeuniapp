(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-category-category"],{"042b":function(t,e,i){"use strict";var a=i("760a"),n=i.n(a);n.a},"17cc":function(t,e,i){"use strict";i.r(e);var a=i("44dd"),n=i("b345");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("843c");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"ec023aec",null,!1,a["a"],void 0);e["default"]=s.exports},"1b95":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.tui-tabbar[data-v-ec023aec]{width:100%;height:%?100?%;display:flex;align-items:center;justify-content:space-between;position:relative}.tui-backdrop__filter[data-v-ec023aec]{\r\n\t/* Safari for macOS & iOS */-webkit-backdrop-filter:blur(15px);\r\n\t/* Google Chrome */backdrop-filter:blur(15px)}.tui-tabbar-fixed[data-v-ec023aec]{position:fixed;left:0;bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);box-sizing:initial!important}.tui-tabbar[data-v-ec023aec]::before{content:" ";width:100%;position:absolute;top:0;left:0;-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 0;transform-origin:0 0;display:block;z-index:3}.tui-tabbar-item[data-v-ec023aec]{height:100%;flex:1;display:flex;text-align:center;align-items:center;flex-direction:column;justify-content:space-between;position:relative;padding:%?10?% 0;box-sizing:border-box;z-index:5}.tui-icon-box[data-v-ec023aec]{position:relative}.tui-item-hump[data-v-ec023aec]{height:%?98?%}.tui-tabbar-icon[data-v-ec023aec]{width:%?52?%;height:%?52?%;display:block}.tui-hump-box[data-v-ec023aec]{width:%?120?%;height:%?120?%;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:%?-50?%;border-radius:50%;z-index:4}.tui-hump-box[data-v-ec023aec]::after{content:" ";height:200%;width:200%;border:1px solid #b2b2b2;position:absolute;top:0;left:0;-webkit-transform:scale(.5) translateZ(0);transform:scale(.5) translateZ(0);-webkit-transform-origin:0 0;transform-origin:0 0;border-radius:%?120?%;box-sizing:border-box;display:block}.tui-unlined[data-v-ec023aec]::after{height:0!important}.tui-tabbar-hump[data-v-ec023aec]{width:%?100?%;height:%?100?%;position:absolute;left:50%;-webkit-transform:translateX(-50%) rotate(0deg);transform:translateX(-50%) rotate(0deg);top:%?-40?%;-webkit-transition:all .2s linear;transition:all .2s linear;border-radius:50%;z-index:5}.tui-tabbar-hump uni-image[data-v-ec023aec]{width:%?100?%;height:%?100?%;display:block}.tui-hump-active[data-v-ec023aec]{-webkit-transform:translateX(-50%) rotate(135deg);transform:translateX(-50%) rotate(135deg)}.tui-text-scale[data-v-ec023aec]{font-weight:700;-webkit-transform:scale(.8);transform:scale(.8);font-size:%?25?%;line-height:%?28?%;-webkit-transform-origin:center 100%;transform-origin:center 100%}.tui-text-hump[data-v-ec023aec]{position:absolute;left:50%;bottom:%?10?%;-webkit-transform:scale(.8) translateX(-50%);transform:scale(.8) translateX(-50%);-webkit-transform-origin:0 100%;transform-origin:0 100%}.tui-badge[data-v-ec023aec]{position:absolute;font-size:%?24?%;height:%?32?%;min-width:%?20?%;padding:0 %?6?%;border-radius:%?40?%;right:0;top:%?-5?%;-webkit-transform:translateX(70%);transform:translateX(70%);display:flex;align-items:center;justify-content:center}.tui-badge-dot[data-v-ec023aec]{position:absolute;height:%?16?%;width:%?16?%;border-radius:50%;right:%?-4?%;top:%?-4?%}',""]),t.exports=e},"2c7c":function(t,e,i){var a=i("1b95");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("ccef9154",a,!0,{sourceMap:!1,shadowMode:!1})},"36b4":function(t,e,i){"use strict";i.r(e);var a=i("f285"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},3959:function(t,e,i){"use strict";i.r(e);var a=i("adf4"),n=i("36b4");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("042b");var r=i("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"e407b2b6",null,!1,a["a"],void 0);e["default"]=s.exports},"44dd":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-tabbar",class:{"tui-tabbar-fixed":t.isFixed,"tui-unlined":t.unlined,"tui-backdrop__filter":t.backdropFilter},style:{background:t.backgroundColor,zIndex:t.isFixed?t.zIndex:"auto"}},[t._l(t.tabBar,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"tui-tabbar-item",class:{"tui-item-hump":e.hump},style:{backgroundColor:e.hump&&!t.backdropFilter?t.backgroundColor:"none"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabbarSwitch(a,e)}}},[i("v-uni-view",{staticClass:"tui-icon-box",class:{"tui-tabbar-hump":e.hump}},[i("v-uni-image",{class:[e.hump?"":"tui-tabbar-icon"],attrs:{src:t.current==e.pagePath?e.selectedIconPath:e.iconPath}}),e.num?i("v-uni-view",{class:[e.isDot?"tui-badge-dot":"tui-badge"],style:{color:t.badgeColor,backgroundColor:t.badgeBgColor}},[t._v(t._s(e.isDot?"":e.num))]):t._e()],1),i("v-uni-view",{staticClass:"tui-text-scale",class:{"tui-text-hump":e.hump},style:{color:t.current==e.pagePath?t.selectedColor:t.color}},[t._v(t._s(e.text))])],1)]})),!t.hump||t.unlined||t.backdropFilter?t._e():i("v-uni-view",{class:{"tui-hump-box":t.hump},style:{background:t.backgroundColor}})],2)},n=[]},"760a":function(t,e,i){var a=i("948f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("a5b1feba",a,!0,{sourceMap:!1,shadowMode:!1})},"843c":function(t,e,i){"use strict";var a=i("2c7c"),n=i.n(a);n.a},"948f":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'uni-page-body[data-v-e407b2b6]{background:#fcfcfc}body.?%PAGE?%[data-v-e407b2b6]{background:#fcfcfc}\n\n/* 左侧导航布局 start*/\n\n/* 隐藏scroll-view滚动条*/[data-v-e407b2b6]::-webkit-scrollbar{width:0;height:0;color:transparent}.tui-searchbox[data-v-e407b2b6]{width:100%;height:%?92?%;padding:0 %?30?%;box-sizing:border-box;background:#fff;display:flex;align-items:center;justify-content:center;position:fixed;left:0;top:0;z-index:100}.tui-searchbox[data-v-e407b2b6]::after{content:"";position:absolute;border-bottom:%?1?% solid #d2d2d2;-webkit-transform:scaleY(.5);transform:scaleY(.5);bottom:0;right:0;left:0}.tui-search-input[data-v-e407b2b6]{width:100%;height:%?60?%;background:#f1f1f1;border-radius:%?30?%;font-size:%?26?%;color:#999;display:flex;align-items:center;justify-content:center}.tui-search-text[data-v-e407b2b6]{padding-left:%?16?%}.tab-view[data-v-e407b2b6]{\n\t/* height: 100%; */background:#f6f6f6;width:%?200?%;position:fixed;left:0;z-index:10;padding-bottom:%?100?%}.tab-bar-item[data-v-e407b2b6]{width:%?200?%;height:%?110?%;background:#f6f6f6;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-size:%?26?%;color:#444;font-weight:400}.active[data-v-e407b2b6]{position:relative;color:#000;font-size:%?30?%;font-weight:600;background:#fcfcfc}.active[data-v-e407b2b6]::before{content:"";position:absolute;border-left:%?8?% solid #e41f19;height:%?30?%;left:0}\n\n/* 左侧导航布局 end*/.right-box[data-v-e407b2b6]{width:100%;position:fixed;padding-left:%?220?%;box-sizing:border-box;left:0}.page-view[data-v-e407b2b6]{width:100%;overflow:hidden;padding-top:%?20?%;padding-right:%?20?%;box-sizing:border-box;padding-bottom:env(safe-area-inset-bottom)}.swiper[data-v-e407b2b6]{width:100%;height:%?150?%;border-radius:%?12?%;overflow:hidden;-webkit-transform:translateZ(0);transform:translateZ(0)}\n[data-v-e407b2b6] .swiper .uni-swiper-dot{width:%?8?%;height:%?8?%;display:inline-flex;background:none;justify-content:space-between}[data-v-e407b2b6] .swiper .uni-swiper-dot::before{content:"";flex-grow:1;background:hsla(0,0%,100%,.8);border-radius:%?16?%;overflow:hidden}[data-v-e407b2b6] .swiper .uni-swiper-dot-active::before{background:#fff}[data-v-e407b2b6] .swiper .uni-swiper-dot.uni-swiper-dot-active{width:%?16?%}\n.slide-image[data-v-e407b2b6]{width:100%;height:100%}.class-box[data-v-e407b2b6]{padding-top:%?10?%}.class-item[data-v-e407b2b6]{background:#fff;width:100%;box-sizing:border-box;padding:%?20?%;margin-bottom:%?20?%;border-radius:%?12?%}.class-name[data-v-e407b2b6]{font-size:%?22?%}.g-container[data-v-e407b2b6]{\n\t/* padding-top: 20rpx; */display:flex;display:-webkit-flex;justify-content:flex-start;flex-direction:row;flex-wrap:wrap}.g-box[data-v-e407b2b6]{width:33.3333%;text-align:center;padding-top:%?40?%}.price[data-v-e407b2b6]{font-weight:400;font-size:%?36?%}.c-image[data-v-e407b2b6]{width:%?120?%;height:%?120?%;border-radius:%?12?%}.g-image[data-v-e407b2b6]{width:%?100?%;height:%?100?%;border-radius:%?50?%}.g-title[data-v-e407b2b6]{font-size:%?22?%;padding-right:%?8?%;padding-left:%?8?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.goods-item[data-v-e407b2b6]{width:96%;height:%?150?%;display:flex;padding-left:5px;padding-right:5px;padding-top:12px;padding-bottom:12px;flex-direction:row;margin-left:%?20?%;align-items:center;justify-content:flex-start;border-bottom:%?1?% dotted #f2f2f2}.goods-pic[data-v-e407b2b6]{width:80px;height:80px;flex-shrink:0}.goods-info[data-v-e407b2b6]{display:flex;font-weight:700;flex-direction:column;padding:6px 5px 0 5px;height:70px;font-size:%?28?%;justify-content:space-between}.fill-last[data-v-e407b2b6]{height:0;width:100%;background:none}',""]),t.exports=e},a57d:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("c975");var a={name:"tuiTabbar",props:{current:{type:String,default:""},mo:{type:String,default:""},pageid:{type:String,default:"-1"},hump:{type:Boolean,default:!1},isFixed:{type:Boolean,default:!0},badgeColor:{type:String,default:"#fff"},badgeBgColor:{type:String,default:"#F74D54"},unlined:{type:Boolean,default:!1},backdropFilter:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:99}},data:function(){return{tabBar:[],color:"#666",selectedColor:"#5677FC",backgroundColor:"#FFFFFF"}},watch:{current:function(){},mo:function(){}},mounted:function(){var t=this;t.$request.post("bottommenu.list",{mo:t.mo,pageid:t.pageid}).then((function(e){0==e.errno&&(t.color=e.data.color,t.selectedColor=e.data.selectedColor,t.backgroundColor=e.data.backgroundColor,t.tabBar=e.data.list)}))},methods:{tabbarSwitch:function(t,e){var i=e.pagePath;"customurl"==e.ptype?"wxapp"==e.zdyLinktype?uni.navigateToMiniProgram({appId:e.zdyappid,path:i}):"web"==e.zdyLinktype?this.sam.navigateTo("/pages/webview/h5?url="+i):this.sam.navigateTo(i):(-1!=i.indexOf("?")?i+="&from=bottom":i+="?from=bottom",this.sam.navigateTo(i))}}};e.default=a},adf4:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={tuiTabbar:i("17cc").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"tui-searchbox"},[i("v-uni-view",{staticClass:"tui-search-input",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[i("v-uni-icon",{attrs:{type:"search",size:13,color:"#999"}}),i("v-uni-text",{staticClass:"tui-search-text"},[t._v("搜索")])],1)],1),i("v-uni-scroll-view",{staticClass:"tab-view",style:{height:t.height+"px",top:t.top+"px"},attrs:{"scroll-y":!0,"scroll-with-animation":!0,"scroll-into-view":t.scrollViewId}},t._l(t.Category,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"tab-bar-item",class:[t.currentTab==a?"active":""],attrs:{id:"id_"+a,"data-current":a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.swichNav(e.id,a)}}},[i("v-uni-text",[t._v(t._s(e.title))])],1)})),1),i("v-uni-scroll-view",{staticClass:"right-box",style:{height:t.height+"px",top:t.top+"px"},attrs:{"scroll-y":!0,"scroll-into-view":t.floorNum},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.tolower.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"page-view",attrs:{id:"scroll-panel"}},[t.banners.length>0?i("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,circular:!0,interval:5e3,duration:150}},t._l(t.banners,(function(e,a){return i("v-uni-swiper-item",{key:a},[i("v-uni-image",{staticClass:"slide-image",attrs:{"data-url":e.url,src:e.pic,mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigationTo.apply(void 0,arguments)}}})],1)})),1):t._e(),i("v-uni-view",{staticClass:"class-box"},[1==t.categorystyle?[t._l(t.goodsList,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"goods-item",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetailsTap.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"goods-pic",attrs:{mode:"widthFix","lazy-load":"true",src:e.pic}}),i("v-uni-view",{staticClass:"goods-info"},[i("v-uni-text",[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"price",staticStyle:{color:"red"}},[i("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),t._v(t._s(e.price)),2==e.ptype&&e.quantity_unit?[e.time_amount>0?i("v-uni-text",{staticClass:"f-24"},[t._v("/"+t._s(e.time_amount)+t._s(e.quantity_unit))]):i("v-uni-text",{staticClass:"f-24"},[t._v("/"),e.is_times?i("v-uni-text",[t._v(t._s(e.timesmum))]):t._e(),t._v("次")],1)]:t._e()],2)],1)],1)]}))]:t._e(),2==t.categorystyle?t._l(t.Category,(function(e,a){return t.Category.length>0?i("v-uni-view",{key:a,staticClass:"class-item",attrs:{id:"b"+e.id}},[i("v-uni-view",{staticClass:"class-name"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"g-container"},t._l(e.son,(function(e,a){return i("v-uni-view",{key:a,staticClass:"g-box",attrs:{"data-cid":e.id,"data-key":e.title},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.gogoodsList.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"c-image",attrs:{src:e.icon}}),i("v-uni-view",{staticClass:"g-title"},[t._v(t._s(e.title))])],1)})),1)],1):t._e()})):t._e(),3==t.categorystyle?[i("v-uni-view",{staticClass:"class-item main-item"},[i("v-uni-view",{staticClass:"g-container"},t._l(t.goodsList,(function(e,a){return i("v-uni-view",{key:t.i2,staticClass:"g-box",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetailsTap.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"g-image",attrs:{src:e.image,mode:"widthFix"}}),i("v-uni-view",{staticClass:"g-title"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"price",staticStyle:{color:"red"}},[i("v-uni-text",{staticClass:"f-24"},[t._v("￥")]),t._v(t._s(e.price)),2==e.ptype&&e.quantity_unit?[e.time_amount>0?i("v-uni-text",{staticClass:"f-24"},[t._v("/"+t._s(e.time_amount)+t._s(e.quantity_unit))]):i("v-uni-text",{staticClass:"f-24"},[e.is_times&&e.timesmum?i("v-uni-text",[t._v("/"+t._s(e.timesmum))]):t._e(),t._v(t._s(e.quantity_unit))],1)]:t._e()],2)],1)})),1)],1),i("v-uni-view",{staticClass:"fill-last",style:{height:t.fillHeight+"px"}})]:t._e()],2)],1),t.number<15?i("v-uni-view",{style:"height:"+(t.height-300)+"rpx;"}):t._e()],1),i("tui-tabbar",{attrs:{current:t.current}})],1)},o=[]},b345:function(t,e,i){"use strict";i.r(e);var a=i("a57d"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},f285:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7"),i("ac1f"),i("d81d"),i("159b"),i("99af");var a={data:function(){return{current:"",banners:[],Category:[],ptype:"",categoryId:"",categorystyle:"1",goodsList:[],page:1,getSon:[],height:0,top:0,currentTab:0,floorNum:"",number:"",scrollViewId:"id_0",scrollHeight:400,scrollTopSize:0,fillHeight:0,topArr:[]}},onLoad:function(t){var e=this;uni.setStorageSync("NewMessage",""),this.current=this.$route.path,t.ptype&&(this.ptype=t.ptype),setTimeout((function(){uni.getSystemInfo({success:function(t){console.log(t.windowHeight),e.height=t.windowHeight-uni.upx2px(92)-90,e.top=0+uni.upx2px(92)}})}),50),this.getbanners(),this.getCategoryall(),this.ptype&&(this.current=this.current+"?ptype="+this.ptype)},onShow:function(){var t=this;t.$request.post("config",{mo:"pagestyle"}).then((function(e){0==e.errno&&e.data.categorystyle&&(t.categorystyle=e.data.categorystyle)}))},methods:{swichNav:function(t,e){var i=e;if(this.currentTab==i)return!1;this.currentTab=i,this.checkCor(),1==this.categorystyle||3==this.categorystyle?(this.categoryId=t,this.page=1,this.getGoodsList()):this.floorNum="b"+t},getElementTop:function(){var t=this;new Promise((function(t,e){var i=uni.createSelectorQuery().selectAll(".main-item");i.boundingClientRect((function(e){t(e)})).exec()})).then((function(e){console.log("res",e);var i=e.map((function(e){return e.top-t.scrollTopSize}));t.topArr=i;var a=e[e.length-1].height;a-20<t.scrollHeight&&(t.fillHeight=t.scrollHeight-a+20)}))},mainScroll:function(t){var e=this;clearTimeout(this.mainThrottle),this.mainThrottle=setTimeout((function(){i()}),10);var i=function(){var i=t.detail.scrollTop,a=0;e.topArr.forEach((function(t,n){i+2>=t&&(a=n,e.currentTab=a<0?0:a)}))}},checkCor:function(){this.currentTab>6?this.scrollViewId="id_".concat(this.currentTab-2):this.scrollViewId="id_0"},gogoodsList:function(t){var e=t.currentTarget.dataset.key,i=t.currentTarget.dataset.cid;uni.navigateTo({url:"/pages/goodsList/goodsList?cid="+i+"&searchKey="+e})},toDetailsTap:function(t){uni.navigateTo({url:"/pages/goodsDetail/goodsDetail?id="+t.currentTarget.dataset.id})},navigationTo:function(t){this.sam.navigateTo(t.currentTarget.dataset.url)},search:function(){uni.navigateTo({url:"/pages/common/search/search"})},getbanners:function(){var t=this;this.$request.get("ad.indexlist").then((function(e){0==e.errno&&(t.banners=e.data)}))},getCategoryall:function(){var t=this;this.$request.get("Category.all",{ptype:t.ptype,showLoading:!0}).then((function(e){0==e.errno&&(t.Category=e.data,t.categoryId=t.Category[0].id,t.getGoodsList(),setTimeout((function(){t.infoScroll()}),500),console.info("services---request---getsonList--右侧二级三级分类成功"))}))},getGoodsList:function(){var t=this;1==t.page&&(t.goodsList=[]),this.$request.post("goods",{categoryId:t.categoryId,page:t.page,pageSize:1e3}).then((function(e){t.goodsList=t.goodsList.concat(e.data.data),t.page=t.page+1,uni.hideNavigationBarLoading()})).catch((function(t){uni.hideNavigationBarLoading()}))},infoScroll:function(){var t=this.Category.length;this.Category[t-1].son&&(this.number=this.Category[t-1].son.length)},initScrollView:function(){var t=this;return new Promise((function(e,i){var a=uni.createSelectorQuery().select("#scroll-panel");a.boundingClientRect((function(i){t.scrollTopSize=i.top,t.scrollHeight=i.height,t.$nextTick((function(){e()}))})).exec()}))},tolower:function(){1==this.categorystyle&&this.getGoodsList()}},onPullDownRefresh:function(){setTimeout((function(){uni.stopPullDownRefresh()}),200)}};e.default=a}}]);